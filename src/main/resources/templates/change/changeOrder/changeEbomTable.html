<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!--User: xulf Date: 2018/11/15 Time: 18:30-->
<head th:include="include/includebase"></head>
<meta charset="UTF-8">
<title>EBOM管理变更</title>
</head>
<body>
<h4><i class="fa fa-minus-square" aria-hidden="true">EBOM变更</i></h4>
<div class="panel-body" style="padding:0px;">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="panel-body" style="padding-bottom: 0;">
                <form class="form-inline" role="form" style="float: left; width: 100%;margin-left: 20px;" method="get"
                      id="ebomChangeData">
                </form>
            </div>
            <div class="content col-lg-12 col-md-12" style="padding:0px;">
                <table class="table table-striped tableNormalStyle" id="ebom_table">
                </table>
            </div>
        </div>
    </div>
</div>
<script th:inline="javascript">
    $(function () {
        initTable();
    });

    function initTable() {
        var projectId = $("#project", window.top.document).val();
        var $table = $("#ebom_table");
        var column = [];
        $.ajax({
            url: "../../../change/data/ebom/title?projectId=" + projectId,
            type: "GET",
            success: function (result) {
                var column = [];
                var data = result.data;
                // var keys = [];
                // var values;
                for (var key in data) {
                    if (data.hasOwnProperty(key)) {
                        var json = {
                            field: key,
                            title: data[key],
                            // align:
                            //     'center',
                            valign:
                                'middle'
                        };
                        column.push(json);
                    }
                }
                $table.bootstrapTable({
                    url: "../../../change/data/ebom" ,
                    method: 'GET',
                    height: $(window.parent.document).find("#wrapper").height() - 252,
                    width: $(window).width(),
                    formId: "ebomChangeData",
                    showColumns: false,
                    pagination: false,
                    clickToSelect: false,// 单击某一行的时候选中某一条记录
                    showToggle: false,  //是否显示详细视图和列表视图的切换按钮
                    columns: column,
                });
            }
        })
    }
</script>
</body>
</html>